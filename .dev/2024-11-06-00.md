# 2024-11-06, Wednesday, 08:00 AM

My current solution for prod/dev + Twilio is to have 2 Twilio numbers, one for
each env. The prod number is configured with the production webhook, the dev
number is configured with the dev webhook. The dev webhook is a stable public
dns name I got from ngrok, which is super convenient!

The s3 upload config and code is also working, but it's not ready for prod/dev. 

The very next step is to solve logging and auth.

# 2024-11-06, Wednesday, 10:24 AM

So I decided to go with Amazon CloudWatch for logging. It seems like a decent
idea plus it aligns with the "whatever is the most AWS-specific solution is the
one I pick" constraint for this project. One nice thing is that it took 0 code
changes. I'll need to updated some code to make the log messages better, but for
now it's nice. The process was basically:

1. install the cloudwatch agent
2. add cloudwatch-specific credentials to the lightsail instance
3. configure cloudwatch to use the credentials and to tail the docker logs
directory

There was a bunch of back-and-forth fiddling to get it working, but it seems to
be working. My two biggest concerns at the moment are:

1. The whole thing was implemented manually via ssh and vi, directly on the
lightsail instance. So it's not exactly a repeatable process. The agent config
is on the machine and the credentials are on the machine, there's a new IAM
user, etc.
2. I need to set up alerting for when the logs agent itself goes down.

Next steps:

1. auth

2. Cleanup (not so much code but user and ops flows)

3. README

And then:

1. testing
2. CI

And maybe:

1. multi-user, payment, sign-up page


   